# Задание №8.
Что мы узнаем:
Еще больше попрактикуемся с ф-циями и научимся записывать в файл.

**Задача**:  
Добавить в скрипт возможность регистрации нового пользователя в системе. Делаем это через добавление нового входного параметра.

**Описание**:  
Добавляем новый входной параметр - "action" с возможными значениями ```log``` и ```reg```.  
В случае, если передан ```log``` вызывается ф-ция ```tools::login``` и на этом работа заканчивается.  
В случае, если передан ```reg```, то вызывается новая ф-ция ```tools::reg_user``` которая считывает наш конфиг(такая ф-ция уже есть и она возвращает хэш) и проверяет, был ли пользователь зарегистрирован ранее. Если да, то нужно отписать, что "Пользователь с таким логином уже зарегистрирован", а если нет, то нужно добавить его в хэш и вызвать новую ф-цию ```tools::rewrite_config``` которая преобразует хэш в текст и перезапишет файл.  
Обязательно проверьте новый параметр ```action``` на валидность. В нем может быть или ```reg``` или ```log```. В противном случае выводим ошибку и завершаем работу скрипта.

**Подсказка**:  
У вас уже есть хороший набор ф-ций в модуле. Используйте их, чтобы предотвратить дублирование кода.

**Полезные привычки**:  
Если код работает не так, как должен, используйте ф-цию ```print``` для отладки. Так вы легко найдете переменную, которая приняла не то значение.

РЕШЕНИЯ: [Модуль](../Tools_Task_08.pm), [Скрипт](../Task_08.pl)
---
[На главную](../README.md)